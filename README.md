<div align="center" style="background-color: #121212; color: #e5e5e5; padding: 20px; border-radius: 12px;">
  <table border="0" cellspacing="0" cellpadding="0" style="border-collapse: collapse; border: none; background-color: #121212; color: #e5e5e5;">
    <tr>
      <td width="160" align="center" valign="middle" style="border: none;">
        <img src="icons/icon-512.svg" width="120" alt="Askesis Logo" style="border-radius: 24px;">
      </td>
      <td align="left" valign="middle" style="border: none; color: #e5e5e5; padding-left: 20px;">
        <h1 style="color: #e5e5e5; margin-bottom: 4px; margin-top: 0;">Askesis</h1>
        <div>
          <a href="https://askesis-psi.vercel.app/"><img src="https://img.shields.io/badge/Acessar_App-27ae60?style=for-the-badge&logo=vercel&logoColor=white" alt="Acessar AplicaÃ§Ã£o"></a>
          <img src="https://img.shields.io/badge/Google_Gemini-174EA6?style=for-the-badge&logo=google-gemini&logoColor=white" alt="Gemini AI" />
          <img src="https://img.shields.io/badge/TypeScript-000000?style=for-the-badge&logo=typescript&logoColor=white" alt="TypeScript" />
          <img src="https://img.shields.io/badge/PWA-5A0FC8?style=for-the-badge&logo=pwa&logoColor=white" alt="PWA" />
        </div>
        <br>
        <p style="color: #b3b3b3; margin: 0;"><em>O Rastreador de HÃ¡bitos Estoico. Minimalista. Focado em Privacidade. Impulsionado por IA.</em></p>
      </td>
    </tr>
  </table>
</div>

<br>

<p align="center">
  <img src="assets/app-preview.jpg" alt="Interface do Askesis" width="100%" style="border-radius: 10px; border: 1px solid #2a2a2a;">
</p>

<br>

---

<h2>A Filosofia: O que Ã© Askesis?</h2>

**Askesis** (do grego *á¼„ÏƒÎºÎ·ÏƒÎ¹Ï‚*) Ã© a raiz da palavra "ascetismo", mas seu significado original Ã© muito mais prÃ¡tico: significa **"treinamento"** ou **"exercÃ­cio"**.

Na filosofia estoica, *askesis* nÃ£o se trata de sofrimento ou privaÃ§Ã£o sem sentido, mas do **treinamento rigoroso e atlÃ©tico da mente e do carÃ¡ter**. Assim como um atleta treina o corpo para a competiÃ§Ã£o, o estoico treina a mente para lidar com as adversidades da vida com virtude e tranquilidade.

A maioria dos apps de hÃ¡bitos foca em gamificaÃ§Ã£o superficial ou em "nÃ£o quebrar a corrente". O Askesis foca na **virtude da consistÃªncia**. Ele usa InteligÃªncia Artificial para atuar como um "SÃ¡bio Estoico", analisando seus dados nÃ£o para julgar, mas para oferecer conselhos sobre como fortalecer sua vontade.

---

<h2>A MotivaÃ§Ã£o: Por que construir?</h2>

A criaÃ§Ã£o do Askesis nasceu de duas necessidades pessoais fundamentais que nÃ£o encontrei em outras soluÃ§Ãµes de mercado:

1.  **Soberania e Privacidade de Dados:** O registro de hÃ¡bitos Ã©, por natureza, um diÃ¡rio Ã­ntimo da vida pessoal. Eu precisava de uma garantia absoluta de que essas informaÃ§Ãµes nÃ£o seriam compartilhadas, vendidas ou analisadas por terceiros. No Askesis, a prioridade Ã© o controle da informaÃ§Ã£o: os dados pertencem exclusivamente ao usuÃ¡rio e residem no seu dispositivo (ou no seu cofre pessoal criptografado).

  AlÃ©m disso, o Askesis adota uma prÃ¡tica conhecida como **anonimato coletivo** (*anonymity set*). Como o app nÃ£o exige e-mail, telefone ou qualquer identificador pessoal, e utiliza uma **API de IA compartilhada** para todos, a identidade do usuÃ¡rio nÃ£o apenas Ã© criptografada â€” ela tambÃ©m Ã© **diluÃ­da no conjunto de usuÃ¡rios**. Em outras palavras: as requisiÃ§Ãµes sÃ£o indistinguÃ­veis entre si, reduzindo a chance de correlaÃ§Ã£o individual. 

  *Resumo:* **Privacidade por desenho + criptografia + anonimato coletivo** = um nÃ­vel adicional de seguranÃ§a para um app popular, anÃ´nimo e livre.
2.  **Autonomia TecnolÃ³gica:** Em uma era dominada por modelos de assinatura (SaaS), recusei-me a pagar aluguel mensal por um software que poderia ser construÃ­do com a tecnologia web moderna disponÃ­vel. Este projeto Ã© a prova de que Ã© possÃ­vel ter uma ferramenta profissional, robusta e gratuita, utilizando os recursos que a tecnologia atual nos oferece, sem barreiras financeiras para o auto-aperfeiÃ§oamento.

---

<h2>ğŸ’ Apoie o Desenvolvimento</h2>

Se o Askesis estÃ¡ ajudando vocÃª a fortalecer sua vontade e consistÃªncia, considere apoiar o desenvolvimento:

- **[GitHub Sponsors](https://github.com/sponsors/farifran)** - PatrocÃ­nio recorrente com recompensas exclusivas
- **[Buy Me a Coffee](https://www.buymeacoffee.com/askesis)** - ContribuiÃ§Ã£o Ãºnica
- **[Ko-fi](https://ko-fi.com/askesis)** - Alternativa global

Todo apoio financia:
- ğŸ§ª Testes abrangentes e qualidade de cÃ³digo
- ğŸ“š DocumentaÃ§Ã£o detalhada e guias
- ğŸš€ Novas funcionalidades e melhorias
- ğŸ” Auditorias de seguranÃ§a e privacidade
- â™¿ Acessibilidade e suporte multilÃ­ngue

### Por que importa?

Atualmente, graÃ§as a plataformas gratuitas (Vercel, Google Gemini, OneSignal), o Askesis pode servir atÃ© **500 usuÃ¡rios simultaneamente**. Cada contribuiÃ§Ã£o permite expandir esses limites:

- Ativar APIs pagas do Google Gemini â†’ suportar **+1000 anÃ¡lises diÃ¡rias**
- Aumentar quotas de sincronizaÃ§Ã£o â†’ suportar **+5000 usuÃ¡rios**
- Implementar CDN global â†’ reduzir latÃªncia em regiÃµes distantes
- Manter infraestrutura 24/7 â†’ garantir confiabilidade

**O apoio transforma Askesis de um experimento em um serviÃ§o pÃºblico sustentÃ¡vel.**

**Obrigado por acreditar em um futuro onde a tecnologia serve Ã  virtude, nÃ£o o contrÃ¡rio.**

---

<h2>Guia Completo: Como Usar o Askesis</h2>

O Askesis foi desenhado em camadas: intuitivo na superfÃ­cie, mas repleto de ferramentas poderosas para quem busca profundidade.

<h3>1. O Fundamento: Adicionando HÃ¡bitos</h3>

O hÃ¡bito Ã© a unidade fundamental da aplicaÃ§Ã£o. O sistema permite rastrear nÃ£o apenas a conclusÃ£o ("check"), mas tambÃ©m a quantidade e intensidade (pÃ¡ginas lidas, minutos meditados).

Para comeÃ§ar a construir sua rotina, vocÃª tem dois caminhos:
*   **BotÃ£o Verde Brilhante (+):** O ponto de partida principal no canto inferior.
*   **O "Placeholder" (EspaÃ§o dos CartÃµes):** Se um perÃ­odo do dia (ManhÃ£, Tarde, Noite) estiver vazio, vocÃª verÃ¡ uma Ã¡rea convidativa ("Adicione um hÃ¡bito") que permite a criaÃ§Ã£o rÃ¡pida direto no contexto temporal.

<h3>2. O Tempo e os AnÃ©is (O CalendÃ¡rio)</h3>

Se o hÃ¡bito Ã© o fundamento, o **Tempo** Ã© o que dÃ¡ sentido ao todo. A faixa de calendÃ¡rio no topo nÃ£o Ã© apenas decorativa; Ã© a sua bÃºssola de progresso.

Os dias sÃ£o representados por **AnÃ©is de Progresso CÃ´nico**, uma visualizaÃ§Ã£o de dados que preenche o anel com as cores azul (feito) e branco (adiado), mostrando a composiÃ§Ã£o exata do seu dia com um Ãºnico olhar.

**Micro-aÃ§Ãµes do CalendÃ¡rio (Power User):**
A faixa de calendÃ¡rio possui atalhos ocultos para facilitar a gestÃ£o em massa:
*   **1 Clique:** Seleciona a data para visualizar o histÃ³rico.
*   **Pressionar e Segurar (Long Press):** Abre um menu de aÃ§Ãµes rÃ¡pidas para **Completar o Dia**, **Adiar o Dia** ou abrir o **CalendÃ¡rio Mensal Completo**, permitindo saltar para qualquer data do ano rapidamente.

<h3>3. O CartÃ£o de HÃ¡bito: InteraÃ§Ã£o DiÃ¡ria</h3>

O cartÃ£o Ã© a representaÃ§Ã£o visual do seu dever no dia. Ele responde a diferentes tipos de interaÃ§Ã£o:

*   **Cliques (Status):**
    *   **1 Clique:** Marca como âœ… **Feito**.
    *   **2 Cliques:** Marca como â¡ï¸ **Adiado** (passa para o prÃ³ximo estado).
    *   **3 Cliques:** Retorna para âšªï¸ **Pendente**.
*   **Deslizar (Swipe - OpÃ§Ãµes Adicionais):**
    *   Ao deslizar o cartÃ£o para os lados, vocÃª revela ferramentas de contexto:
    *   **Criar Nota:** Adicione uma observaÃ§Ã£o estoica sobre a execuÃ§Ã£o daquele hÃ¡bito no dia.
    *   **Apagar:** Permite remover o hÃ¡bito. O sistema perguntarÃ¡ inteligentemente se vocÃª quer remover **"Apenas Hoje"** (ex: um imprevisto) ou **"Para Sempre"** (encerrar o hÃ¡bito).
*   **Foco por Rolagem (Scroll Focus):** Ao rolar a lista, o cartÃ£o que estÃ¡ no centro da tela sutilmente aumenta de tamanho e opacidade. Este efeito, criado com a API de *Scroll-Driven Animations* do navegador, guia seu foco de forma natural e sem custo de performance.

<h3>4. NavegaÃ§Ã£o e Sabedoria</h3>

*   **"Hoje":** Ao navegar pelo passado ou futuro, o tÃ­tulo "Hoje" (ou a data) no topo funciona como um botÃ£o de retorno imediato ao presente.
*   **Frases Estoicas:** No topo da tela, vocÃª encontrarÃ¡ reflexÃµes de Marco AurÃ©lio e outros estoicos. Clique na frase para copiÃ¡-la para sua Ã¡rea de transferÃªncia.

<h3>5. A Engrenagem: ConfiguraÃ§Ãµes e Resgate</h3>

O Ã­cone de engrenagem no canto superior guarda as ferramentas de gestÃ£o do seu sistema pessoal:

*   **Resgate de Perfil (SincronizaÃ§Ã£o):** Aqui vocÃª encontra sua **Chave de SincronizaÃ§Ã£o**. Guarde-a com seguranÃ§a. Ela Ã© a Ãºnica forma de acessar seus dados em outros dispositivos ou recuperar seu progresso caso troque de celular.
*   **Gerenciar HÃ¡bitos:** Uma visÃ£o de lista para editar, pausar ou graduar seus hÃ¡bitos.
*   **Idioma e NotificaÃ§Ãµes:** Ajuste a aplicaÃ§Ã£o para portuguÃªs, inglÃªs ou espanhol e configure seus lembretes.

---

<h2>
  <img src="https://www.gstatic.com/lamda/images/gemini_sparkle_v002_d4735304ff6292a690345.svg" height="30" style="vertical-align: bottom; margin-right: 8px;" alt="Google AI Studio Icon" />
  O Poder do Google AI Studio: Desenvolvimento Assistido
</h2>

Este projeto representa uma mudanÃ§a de paradigma no desenvolvimento de software. O **Askesis** nÃ£o foi apenas codificado; foi orquestrado.

AtravÃ©s do **Google AI Studio**, a barreira tÃ©cnica foi dissolvida. O papel humano evoluiu de "programador braÃ§al" para **Arquiteto de Software, Gerente de Produto e Lead Tester**.

Isso permitiu que uma Ãºnica pessoa construÃ­sse uma aplicaÃ§Ã£o com a complexidade e polimento de um *squad* inteiro:

*   **O Humano como Beta Tester e Pesquisador:** AlÃ©m de definir a visÃ£o, o papel humano foi fundamental como um **validar Ã¡gil**. Houve um ciclo contÃ­nuo de testes onde o humano confrontava sua visÃ£o com o resultado produzido pela IA, iterando prompts para aperfeiÃ§oar o cÃ³digo atÃ© sua melhor versÃ£o.
*   **A IA como Engenheiro SÃªnior:** Os modelos Gemini atuaram na implementaÃ§Ã£o tÃ©cnica pesada, escrevendo linhas complexas de cÃ³digo, sugerindo otimizaÃ§Ãµes de performance e resolvendo bugs lÃ³gicos.

---

<h2>ExperiÃªncia Universal: PWA e Acessibilidade</h2>

O Askesis foi construÃ­do com a premissa de que a tecnologia deve se adaptar ao usuÃ¡rio, nÃ£o o contrÃ¡rio.

<h3>ğŸ“± Multiplataforma por Natureza (PWA)</h3>
O Askesis Ã© um **Progressive Web App (PWA)** de Ãºltima geraÃ§Ã£o. Isso significa que ele combina a ubiquidade da web com a performance de aplicativos nativos.

*   **InstalÃ¡vel:** Adicione Ã  tela inicial do iOS, Android, Windows ou Mac. Ele se comporta como um app nativo, removendo a barra do navegador e integrando-se ao sistema operacional.
*   **Offline-First:** GraÃ§as a uma estratÃ©gia avanÃ§ada de *Service Workers*, o aplicativo carrega instantaneamente e Ã© **totalmente funcional sem internet**. VocÃª pode marcar hÃ¡bitos, ver grÃ¡ficos e editar notas no meio de um voo ou no metrÃ´.
*   **SensaÃ§Ã£o Nativa:** ImplementaÃ§Ã£o de feedback tÃ¡til (Haptics) em micro-interaÃ§Ãµes, gestos de deslize (swipe) fluÃ­dos e animaÃ§Ãµes de 60fps garantem uma experiÃªncia tÃ¡til e responsiva.

<h3>â™¿ Acessibilidade e Design Inclusivo (A11y)</h3>
A disciplina estoica Ã© para todos. O cÃ³digo do Askesis segue rigorosos padrÃµes de acessibilidade (WCAG) para garantir que pessoas com diferentes necessidades possam usar a ferramenta plenamente.

*   **SemÃ¢ntica Robusta:** Uso correto de elementos HTML semÃ¢nticos e atributos ARIA (`aria-label`, `role`, `aria-live`) para garantir que **Leitores de Tela** interpretem a interface corretamente.
*   **NavegaÃ§Ã£o por Teclado:** Todo o aplicativo Ã© navegÃ¡vel sem mouse. Modais possuem "Focus Traps" para evitar que o foco se perca, e atalhos (como `Enter` e `EspaÃ§o`) funcionam em todos os elementos interativos.
*   **Respeito ao UsuÃ¡rio:** O aplicativo detecta e respeita a preferÃªncia do sistema por **Movimento Reduzido** (`prefers-reduced-motion`), desativando animaÃ§Ãµes complexas para evitar desconforto vestibular.
*   **Legibilidade:** Contraste de cores calculado dinamicamente para garantir legibilidade em qualquer tema escolhido pelo usuÃ¡rio.

---

<h2>Arquitetura e Engenharia</h2>

Este projeto rejeita a complexidade desnecessÃ¡ria dos frameworks modernos em favor de **Performance Nativa** e **JavaScript Moderno (ESNext)**.

<h3>Estrutura do Projeto</h3>

```text
.
â”œâ”€â”€ api/                 # Vercel Edge Functions (Backend Serverless)
â”œâ”€â”€ locales/             # Arquivos de TraduÃ§Ã£o (i18n)
â”œâ”€â”€ render/              # Motor de RenderizaÃ§Ã£o (DOM Recycling & Templates)
â”œâ”€â”€ listeners/           # Controladores de Eventos e Gestos (FÃ­sica)
â”œâ”€â”€ services/            # Camada de Dados, Criptografia e IO
â”‚   â”œâ”€â”€ api.ts           # Cliente HTTP com Retry/Backoff
â”‚   â”œâ”€â”€ cloud.ts         # Orquestrador de Sync e Worker Bridge
â”‚   â”œâ”€â”€ crypto.ts        # Criptografia AES-GCM IsomÃ³rfica
â”‚   â”œâ”€â”€ dataMerge.ts     # Algoritmo de ResoluÃ§Ã£o de Conflitos (CRDT-lite)
â”‚   â”œâ”€â”€ migration.ts     # ReconstruÃ§Ã£o de HistÃ³rico (Graph-based)
â”‚   â”œâ”€â”€ persistence.ts   # Wrapper IndexedDB AssÃ­ncrono
â”‚   â”œâ”€â”€ selectors.ts     # Camada de Leitura Otimizada (Memoized)
â”‚   â””â”€â”€ sync.worker.ts   # Web Worker para CPU-bound tasks
â”œâ”€â”€ state.ts             # Gerenciamento de Estado MutÃ¡vel (Single Source of Truth)
â”œâ”€â”€ habitActions.ts      # LÃ³gica de NegÃ³cios e Time-Travel
â”œâ”€â”€ index.html           # App Shell (Critical Render Path)
â””â”€â”€ sw.js                # Service Worker (Atomic Caching)
```

<h3>Deep Dive TÃ©cnico: A Plataforma Web como Nativa</h3>

O Askesis opera no "Sweet Spot" da performance web, utilizando APIs nativas modernas para superar frameworks tradicionais:

1.  **Arquitetura de Dados "Bitmask-First":** O estado de conclusÃ£o dos hÃ¡bitos nÃ£o Ã© armazenado em arrays ou objetos JSON, mas sim em mapas de bits (`BigInt`). Isso permite verificar a consistÃªncia de anos de histÃ³rico com operaÃ§Ãµes matemÃ¡ticas bitwise `O(1)`, com pegada de memÃ³ria quase nula.

2.  **PersistÃªncia "Split-State":** O armazenamento local (IndexedDB) separa dados "quentes" (notas, configuraÃ§Ãµes) de dados "frios" (logs binÃ¡rios), permitindo uma inicializaÃ§Ã£o instantÃ¢nea da aplicaÃ§Ã£o sem parsear megabytes de histÃ³rico.

3.  **FÃ­sica de UI com APIs "Bleeding-Edge":** As interaÃ§Ãµes de arrastar e deslizar utilizam a API Houdini (`CSS Typed OM`) para comunicaÃ§Ã£o direta com a thread de composiÃ§Ã£o do navegador, garantindo animaÃ§Ãµes que "colam no dedo". A renderizaÃ§Ã£o Ã© orquestrada pela `scheduler.postTask` para nunca bloquear a thread principal.

4.  **Multithreading (Web Workers):** Para garantir que a UI nunca trave (Jank-free), tarefas pesadas como **Criptografia AES-GCM**, **Parsing de JSON** massivo e **ConstruÃ§Ã£o de Prompts de IA** sÃ£o delegadas para uma thread de worker separada (`sync.worker.ts`).

5.  **Criptografia Zero-Copy & Off-Main-Thread:** A criptografia nÃ£o apenas acontece no cliente, ela Ã© isolada em um **Web Worker** dedicado. Utilizamos tÃ©cnicas de **Zero-Copy** (transferÃªncia de `ArrayBuffer` sem serializaÃ§Ã£o Base64 intermediÃ¡ria na memÃ³ria) para garantir que cifrar 5 anos de histÃ³rico nÃ£o trave a interface do usuÃ¡rio, mesmo em celulares modestos.

6.  **SincronizaÃ§Ã£o Inteligente (Smart Merge):** ImplementaÃ§Ã£o de um algoritmo **CRDT-lite** (Conflict-free Replicated Data Type) para reconciliaÃ§Ã£o de dados. O sistema resolve conflitos entre dispositivos offline e a nuvem usando pesos semÃ¢nticos (ex: "ConcluÃ­do" > "Pendente"), garantindo que o progresso do usuÃ¡rio nunca seja perdido.

---

<h2>ğŸ› ï¸ InstalaÃ§Ã£o e Desenvolvimento</h2>

Como o Askesis Ã© "Vanilla TypeScript" puro, nÃ£o hÃ¡ build steps complexos de frameworks (como Next.js ou React).

1.  **Clone o repositÃ³rio:**
    ```bash
    git clone https://github.com/seu-usuario/askesis.git
    ```
2.  **Instale as dependÃªncias (apenas para build e dev server):**
    ```bash
    npm install
    ```
3.  **Rode o servidor de desenvolvimento:**
    ```bash
    npm run dev
    ```
    *O projeto utiliza `esbuild` para Hot Module Replacement (HMR) e transpilaÃ§Ã£o TS -> JS.*

> **Nota importante sobre instÃ¢ncia prÃ³pria:** rodar uma versÃ£o auto-hospedada Ã© totalmente possÃ­vel, porÃ©m **reduz um dos maiores benefÃ­cios do Askesis: o anonimato coletivo**. Ao sair do conjunto de usuÃ¡rios compartilhado, vocÃª diminui o *anonymity set* que ajuda a diluir a identidade entre participantes.

---

<h2>ğŸ§ª ValidaÃ§Ã£o e Garantia de Qualidade</h2>

A confiabilidade do Askesis Ã© validada por uma suite de testes abrangente que cobre desde fluxos de usuÃ¡rio atÃ© cenÃ¡rios de caos distribuÃ­do.

<h3>EstratÃ©gia de Testes: Integration-First, Property-Based</h3>

Ao contrÃ¡rio de projetos que acumulam centenas de unit tests isolados, o Askesis adota uma abordagem **Integration-First**: cada teste valida fluxos completos que um usuÃ¡rio real executaria, combinando mÃºltiplos subsistemas.

**Filosofia:** *"Se o sistema passa em um cenÃ¡rio realista, os componentes individuais estÃ£o funcionando corretamente."*

<h3>ğŸ“Š Cobertura de Testes (Test Suites)</h3>

O projeto possui **6 suites de testes especializadas**, totalizando **60+ testes** que validam:

#### ğŸ¯ **Super-Teste 1: Jornada do UsuÃ¡rio** (3 testes)
Valida o ciclo de vida completo de um hÃ¡bito desde a criaÃ§Ã£o atÃ© a graduaÃ§Ã£o:
- CriaÃ§Ã£o de hÃ¡bito â†’ MarcaÃ§Ã£o de status â†’ AdiÃ§Ã£o de notas â†’ PersistÃªncia â†’ RecuperaÃ§Ã£o apÃ³s reload
- Verifica que dados sobrevivem a reinicializaÃ§Ãµes e que o DOM reflete corretamente o estado

#### ğŸ”„ **Super-Teste 2: Conflitos de SincronizaÃ§Ã£o** (5 testes)
Simula sincronizaÃ§Ã£o multi-dispositivo com conflitos:
- Merge de bitmasks (UniÃ£o de dados binÃ¡rios)
- ResoluÃ§Ã£o CRDT-lite (Tombstone precedence: Delete > Update)
- SerializaÃ§Ã£o/DesserializaÃ§Ã£o de dados criptografados
- Garante que nenhum progresso Ã© perdido em sincronizaÃ§Ãµes concorrentes

#### âš¡ **Super-Teste 3: Performance e Estresse** (10 testes)
Benchmarks com budgets rigorosos de performance:
- **100 hÃ¡bitos criados** em < 100ms
- **3 anos de histÃ³rico** (54.750 registros) populados em < 500ms
- **10.000 leituras aleatÃ³rias** em < 50ms (validando O(1) dos bitmasks)
- **1.000 toggles consecutivos** em < 100ms
- Verifica que nÃ£o hÃ¡ vazamento de memÃ³ria apÃ³s 10.000 operaÃ§Ãµes
- Performance constante independente do volume de dados (prova de O(1))

#### â™¿ **Super-Teste 4: Acessibilidade Total** (12 testes)
ValidaÃ§Ã£o WCAG 2.1 AA compliance:
- NavegaÃ§Ã£o completa apenas com teclado (Tab, Enter, Escape)
- Focus trap em modais (navegaÃ§Ã£o nÃ£o escapa do contexto)
- Estrutura semÃ¢ntica HTML5 (landmarks, roles, aria-labels)
- AnÃºncios dinÃ¢micos com `aria-live` para leitores de tela
- Contraste de cores adequado (ratios WCAG)
- Respeito a `prefers-reduced-motion`
- Skip links para navegaÃ§Ã£o rÃ¡pida

#### ğŸ”¥ **Super-Teste 5: RecuperaÃ§Ã£o de Desastres** (10 testes)
Chaos Engineering - valida resiliÃªncia em cenÃ¡rios extremos:
- RecuperaÃ§Ã£o de localStorage corrompido (JSON invÃ¡lido)
- Dados parcialmente deletados (estado fragmentado)
- ValidaÃ§Ã£o e rejeiÃ§Ã£o de dados malformados
- Storage quase cheio (QuotaExceededError)
- Timestamps negativos ou futuros (anomalias temporais)
- DetecÃ§Ã£o de loops infinitos (circuit breakers)
- DegradaÃ§Ã£o graceful quando features falham
- ValidaÃ§Ã£o de migraÃ§Ã£o entre versÃµes antigas
- Feedback claro para o usuÃ¡rio em situaÃ§Ãµes de erro

#### ğŸ”¥ **Nuclear QA: Fuzzing & Oracle (HabitService)** (10 testes)
Property-based testing com geraÃ§Ã£o aleatÃ³ria de inputs:
- **Oracle Test:** 1.000 operaÃ§Ãµes aleatÃ³rias comparadas contra implementaÃ§Ã£o "ingÃªnua" correta
- **Guard Clauses:** ValidaÃ§Ã£o de rejeiÃ§Ã£o de argumentos invÃ¡lidos (NaN, negativos, out-of-range)
- **Datas Extremas:** Y2K38, Year 9999, Unix Epoch (1970)
- **IdempotÃªncia:** Mesma operaÃ§Ã£o 10x produz resultado idÃªntico
- **Comutatividade:** Ordem de operaÃ§Ãµes nÃ£o afeta resultado final
- **State Machine:** TransiÃ§Ãµes vÃ¡lidas entre estados (NULL â†’ DONE â†’ DEFERRED â†’ DONE_PLUS)
- **Isolamento:** 100 hÃ¡bitos nÃ£o interferem entre si
- **Performance:** 10.000 operaÃ§Ãµes em < 16ms (0.0016ms/op)
- **Bit Corruption:** BigInt invÃ¡lidos tratados graciosamente
- **Versionamento:** Dados antigos + novos coexistem sem conflitos

#### ğŸ§  **Nuclear QA: Distributed Chaos (dataMerge)** (8 testes)
ValidaÃ§Ã£o de algoritmos de sincronizaÃ§Ã£o distribuÃ­da:
- **Three-Body Problem:** 3 clientes divergentes convergem apÃ³s sincronizaÃ§Ã£o multi-salto
- **Future-From-The-Past Attack:** Timestamps futuros com dados corrompidos nÃ£o destroem histÃ³rico
- **Property-Based Commutativity:** 100 estados aleatÃ³rios sempre convergem independente da ordem
- **Identity Preservation:** Merge com null/undefined nÃ£o retorna null ou crashes
- **Network Partition:** 5 clientes sincronizam em ordem aleatÃ³ria (Eventual Consistency)
- **Race Conditions:** Writes simultÃ¢neos resolvidos via LWW (Last-Write-Wins)
- **IdempotÃªncia:** Merge(A,B) = Merge(Merge(A,B), B)
- **Roundtrip Serialization:** BigInt serializa/desserializa sem perda

<h3>ğŸ¯ MÃ©tricas de Qualidade</h3>

```text
ğŸ“ˆ Cobertura de CÃ³digo:  80%+ (linhas), 70%+ (funÃ§Ãµes/branches)
âš¡ Performance Budgets:  Todos os benchmarks passando
ğŸ”’ Testes de SeguranÃ§a: Criptografia, validaÃ§Ã£o de entrada, XSS prevention
â™¿ Acessibilidade:       WCAG 2.1 AA compliant
ğŸŒ Testes DistribuÃ­dos:  ConvergÃªncia em split-brain scenarios
```

<h3>ğŸš€ Executando os Testes</h3>

```bash
# Suite completa (60+ testes)
npm test

# Apenas super-testes (cenÃ¡rios de integraÃ§Ã£o)
npm run test:super

# Com relatÃ³rio de cobertura
npm run test:coverage

# Interface visual (Vitest UI)
npm run test:ui

# Modo watch (desenvolvimento)
npm run test:watch
```

<h3>ğŸ’¡ Por que essa abordagem de testes importa?</h3>

**Para Futuros Colaboradores:**
- **Confiabilidade Comprovada:** Cada funcionalidade crÃ­tica tem validaÃ§Ã£o automÃ¡tica
- **PrevenÃ§Ã£o de RegressÃµes:** MudanÃ§as futuras nÃ£o quebram comportamentos existentes
- **Performance Garantida:** Budgets rigorosos asseguram que o app escala com milhares de usuÃ¡rios
- **Manutenibilidade:** Testes de integraÃ§Ã£o documentam como o sistema funciona na prÃ¡tica
- **Conformidade:** Acessibilidade e seguranÃ§a sÃ£o validadas continuamente, nÃ£o apenas auditadas

**Para UsuÃ¡rios:**
- Seus dados estÃ£o seguros mesmo em cenÃ¡rios extremos (crash, corrupÃ§Ã£o, offline)
- O app funciona de forma consistente em qualquer dispositivo ou situaÃ§Ã£o de rede
- AcessÃ­vel para pessoas com diferentes necessidades (leitores de tela, navegaÃ§Ã£o por teclado)
- Performance previsÃ­vel mesmo com anos de histÃ³rico acumulado

---

<h2>
  <img src="assets/zero-cost.svg" height="30" style="vertical-align: bottom; margin-right: 8px;" alt="Zero Cost Icon" />
  Arquitetura Zero Cost & Sustentabilidade
</h2>

Este projeto foi desenhado com uma engenharia inteligente para operar com **Custo Zero ($0)**, aproveitando os planos gratuitos de serviÃ§os modernos sem perder qualidade.

*   **Armazenamento Ultraleve (GZIP):** Os dados histÃ³ricos ("Cold Storage") sÃ£o comprimidos via GZIP Stream API antes de serem salvos ou enviados para a nuvem. Isso reduz drasticamente o uso de banda e armazenamento.
*   **O Celular Trabalha:** A maior parte do "pensamento" (criptografia, geraÃ§Ã£o de grÃ¡ficos, cÃ¡lculos) Ã© feita pelo seu prÃ³prio dispositivo, nÃ£o pelo servidor. Isso poupa recursos da nuvem, garantindo que nunca ultrapassemos os limites gratuitos.
*   **NotificaÃ§Ãµes Gratuitas:** Utilizamos o plano de comunidade do OneSignal, que permite atÃ© 10.000 usuÃ¡rios Web gratuitamente.

<h3>ğŸ“Š Estimativas de Capacidade (com base em limites gratuitos)</h3>

> **Nota:** os limites variam ao longo do tempo. Use as fÃ³rmulas abaixo e substitua pelos nÃºmeros atuais de cada provedor.

**1) Google Gemini (IA compartilhada)**

**FÃ³rmula:**
```
usuarios_suportados â‰ˆ (limite_req_dia / (req_por_usuario_dia))
```

**Exemplo (ajuste com a sua realidade):**
- Se a quota permitir **Q** requisiÃ§Ãµes/dia
- E cada usuÃ¡rio fizer em mÃ©dia **R** consultas/dia
â†’ UsuÃ¡rios suportados â‰ˆ **Q / R**

**Estimativa real (modelo Flash):**
- **Quota estimada:** 1.000 solicitaÃ§Ãµes/dia
- **Uso mÃ©dio por usuÃ¡rio:** 2 solicitaÃ§Ãµes/dia (1 anÃ¡lise automÃ¡tica + 1 conselho estoico)
â†’ **UsuÃ¡rios suportados â‰ˆ 1.000 / 2 = 500 usuÃ¡rios/dia**

**Boas prÃ¡ticas para reduzir consumo:**
- Cache de respostas para consultas repetidas
- Limitar sugestÃµes diÃ¡rias por usuÃ¡rio (ex: 1â€“3 insights/dia)
- Rodar anÃ¡lises locais sempre que possÃ­vel

**2) OneSignal (NotificaÃ§Ãµes Web)**

**Limite gratuito divulgado:** atÃ© **10.000 usuÃ¡rios Web (subscribers)**.

**Estimativa de capacidade:**
- Se cada usuÃ¡rio receber **N** notificaÃ§Ãµes/dia
â†’ Total de notificaÃ§Ãµes/dia â‰ˆ **10.000 Ã— N**

**CenÃ¡rio do Askesis (atual):**
- **2 notificaÃ§Ãµes/dia** para completar hÃ¡bitos + **1 mensagem estoica/dia**
â†’ **N = 3 notificaÃ§Ãµes/dia**

> **Importante:** o limite gratuito Ã© **por nÃºmero de usuÃ¡rios/subscribers**, nÃ£o por volume de envio. Ou seja, ao atingir **10.000 usuÃ¡rios**, vocÃª jÃ¡ alcanÃ§a o teto do plano â€” independentemente do nÃºmero de notificaÃ§Ãµes enviadas.

**3) Vercel (Banda/Edge Functions)**

**FÃ³rmula genÃ©rica:**
```
usuarios_mensais â‰ˆ (banda_mensal_disponivel / consumo_medio_por_usuario_mes)
```

**Exemplo de estimativa:**
- Se o app consome **M MB/usuÃ¡rio/mÃªs** (assets + sync)
- E a banda gratuita Ã© **B GB/mÃªs**
â†’ UsuÃ¡rios suportados â‰ˆ **(BÃ—1024) / M**

**MediÃ§Ã£o real (dados atuais):**
- **Fast Data Transfer:** 1,74 MB
- **Fast Origin Transfer:** 0,178 MB
- **Total por dia (1 usuÃ¡rio):** â‰ˆ **1,918 MB/dia**
- **Estimativa mensal por usuÃ¡rio (30 dias):** â‰ˆ **57,5 MB/mÃªs**

**Estimativa com sua banda mensal:**
```
usuarios_mensais â‰ˆ (BÃ—1024) / 57,5
```

**Com o plano grÃ¡tis (100 GB/mÃªs):**
```
usuarios_mensais â‰ˆ (100Ã—1024) / 57,5 â‰ˆ 1.780 usuÃ¡rios
```

<h3>ğŸ§® Limite gratuito real (interseÃ§Ã£o entre provedores)</h3>

Considerando as trÃªs plataformas **simultaneamente** (Gemini, Vercel e OneSignal), o limite prÃ¡tico da app Ã© dado pelo **menor teto** entre elas:

- **Gemini Flash:** ~**500 usuÃ¡rios/dia** (1.000 req/dia Ã· 2 req/usuÃ¡rio/dia)
- **Vercel (100 GB/mÃªs):** ~**1.780 usuÃ¡rios/mÃªs** (â‰ˆ 57,5 MB/usuÃ¡rio/mÃªs)
- **OneSignal:** **10.000 usuÃ¡rios** (limite por subscribers)

**ConclusÃ£o:** o gargalo atual Ã© o **Gemini Flash (â‰ˆ 500 usuÃ¡rios/dia)**. Mesmo que Vercel e OneSignal suportem mais, a IA Ã© o limitador antes de depender de colaboraÃ§Ã£o comunitÃ¡ria ou ajustes de infraestrutura.

**Como medir consumo real (recomendado):**
1. Abra o app em um celular real
2. Use DevTools â†’ Network â†’ "Transfer" total
3. Some o trÃ¡fego inicial + 30 dias de uso tÃ­pico
4. Use esse valor como `consumo_medio_por_usuario_mes`

---

<h2>ğŸ—ï¸ Estrutura de Dados: A Magia por TrÃ¡s</h2>

O Askesis utiliza estruturas de dados altamente otimizadas que sÃ£o raramente vistas em aplicaÃ§Ãµes web. Compreender essa escolha Ã© compreender por que o app Ã© tÃ£o rÃ¡pido:

<h3>ğŸ”¢ O Sistema de Bitmask 9-bit</h3>

Cada hÃ¡bito Ã© armazenado de forma comprimida usando **BigInt** (inteiros arbitrariamente grandes do JavaScript).

```
Cada dia ocupa 9 bits (para 3 perÃ­odos: ManhÃ£, Tarde, Noite):

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Dia = [Tombstone(1 bit) | Status Noite(2) | Status Tarde(2) | Status ManhÃ£(2) | Reserved(2) ] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Estados possÃ­veis (2 bits cada):
  00 = Pendente (nÃ£o iniciado)
  01 = Feito (completed)
  10 = Adiado (deferred/snoozed)
  11 = Reservado para expansÃ£o futura

Exemplo de 1 mÃªs (30 dias):
  - Sem compressÃ£o:   30 dias Ã— 3 perÃ­odos Ã— 8 bytes = 720 bytes
  - Com bitmask:      30 dias Ã— 9 bits = 270 bits â‰ˆ 34 bytes (21x menor!)
  - GZIP:             34 bytes â†’ ~8 bytes comprimido
```

**OperaÃ§Ãµes Bitwise O(1):**
```typescript
// Ler status de um hÃ¡bito em 2025-01-15 na ManhÃ£:
const status = (log >> ((15-1)*9 + PERIOD_OFFSET['Morning'])) & 3n;

// Escrever status:
log = (log & clearMask) | (newStatus << bitPos);

// Isso Ã© **instantÃ¢neo** mesmo com 10+ anos de dados!
```

<h3>ğŸ“¦ Split-State Storage: JSON + Binary</h3>

O IndexedDB do Askesis armazena dados em **duas colunas separadas**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ IndexedDB (AskesisDB)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ KEY: "askesis_core_json"                 â”‚
â”‚ VALUE: {                                 â”‚
â”‚   version: 9,                            â”‚
â”‚   habits: [Habit[], ...],                â”‚
â”‚   dailyData: Record<>,                   â”‚
â”‚   ... (tudo exceto monthlyLogs)          â”‚
â”‚ }                                        â”‚
â”‚ SIZE: ~50-200 KB (mesmo com 5 anos)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ KEY: "askesis_logs_binary"               â”‚
â”‚ VALUE: {                                 â”‚
â”‚   "habit-1_2024-01": "a3f4e8c...",     â”‚ â† Hex string (9-bit logs)
â”‚   "habit-1_2024-02": "b2e5d1a...",     â”‚
â”‚   ...                                    â”‚
â”‚ }                                        â”‚
â”‚ SIZE: ~8-15 KB (mesmo com 5 anos)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**BenefÃ­cios:**
- **Startup instantÃ¢neo:** JSON carrega em < 50ms, binÃ¡rios sob demanda
- **Backup eficiente:** Exportar dados = apenas o JSON (< 200 KB)
- **MigraÃ§Ã£o segura:** Versiones antigas + novas coexistem sem conflitos

<h3>ğŸ”— Tombstone Pattern: Soft Delete com SeguranÃ§a de Sync</h3>

Quando vocÃª deleta um hÃ¡bito, o Askesis **nÃ£o o apaga**. Em vez disso, marca com um "TÃºmulo" (Tombstone):

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ DELETE HABITO 'Meditar'               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Ao invÃ©s de: habits.remove(id)     â”‚
â”‚    Faz:         habit.deletedOn = now â”‚
â”‚                                        â”‚
â”‚ 2. Marca no bitmask:                   â”‚
â”‚    Bit 8 (Tombstone) = 1              â”‚
â”‚    (ForÃ§a todos os bits para 0)        â”‚
â”‚                                        â”‚
â”‚ 3. Benefit:                            â”‚
â”‚    - Se sync nÃ£o chegou a outro app,   â”‚
â”‚      ele recebe DELETE + Sincroniza    â”‚
â”‚    - HistÃ³rico preservado para backup  â”‚
â”‚    - Undo Ã© possÃ­vel (re-ativar)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Exemplo real:**
```typescript
// UsuÃ¡rio deleta 'Meditar' em 2025-02-01
habitActions.requestHabitPermanentDeletion('habit-123');

// No bitmask, 2025-02-01 vira:
// 100 | 00 | 00 | 00 | 00 = 4 (Tombstone ativo)

// Ao sincronizar com outro dispositivo:
// 1. Servidor recebe tombstone bit
// 2. Propaga DELETE para todos os clientes
// 3. HistÃ³rico anterior Ã© preservado em archives/
```

<h3>ğŸ§¬ CRDT-lite: ResoluÃ§Ã£o de Conflitos Sem Servidor</h3>

Quando dois dispositivos sincronizam com mudanÃ§as conflitantes, o Askesis resolve automaticamente **sem precisar de um servidor de autoridade**:

```
â”Œâ”€â”€â”€ Device A (Offline por 2 dias) â”€â”€â”€â”€â”€â”€â”
â”‚ 2025-01-15 ManhÃ£: FEITO                â”‚
â”‚ 2025-01-16 Tarde: ADIADO               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“ Reconecta
â”Œâ”€â”€â”€ Cloud State â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2025-01-15 ManhÃ£: ADIADO (Device B)   â”‚
â”‚ 2025-01-16 Tarde: PENDENTE (Device B) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â†“ Merge (CRDT)
â”Œâ”€â”€â”€ Resultado (ConvergÃªncia) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2025-01-15 ManhÃ£: FEITO âœ…              â”‚
â”‚   (RazÃ£o: FEITO > ADIADO = mais forte) â”‚
â”‚ 2025-01-16 Tarde: ADIADO               â”‚
â”‚   (RazÃ£o: ADIADO > PENDENTE = mais     â”‚
â”‚    prÃ³ximo da conclusÃ£o)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**SemÃ¢ntica da resoluÃ§Ã£o:**
```
PrecedÃªncia de estado:
FEITO (01) > ADIADO (10) > PENDENTE (00)

LÃ³gica: max(a, b) entre os dois valores 2-bit
```

Isso garante que o usuÃ¡rio **nunca perde progresso** ao sincronizar.

---

<h2>ğŸ“š Filosofia Estoica Integrada</h2>

O Askesis nÃ£o Ã© apenas um rastreador de hÃ¡bitos com IA. Ele carrega a filosofia estoica em cada decisÃ£o de design:

<h3>ğŸ“ Os 4 Pilares Estoicos Mapeados em HÃ¡bitos</h3>

Cada hÃ¡bito criado no Askesis pode ser classificado segundo a filosofia estoica:

**1. Esfera de GovernanÃ§a (4 tipos)**
```
BiolÃ³gica   â†’ ExercÃ­cio, AlimentaÃ§Ã£o, Sono
Estrutural  â†’ OrganizaÃ§Ã£o, Planejamento, FinanÃ§as
Social      â†’ DiÃ¡logo, Empatia, PaciÃªncia
Mental      â†’ MeditaÃ§Ã£o, Leitura, ReflexÃ£o
```

**2. Virtude Estoica (4 colunas de Marcus Aurelius)**
```
Sabedoria (Phronesis)      â†’ DecisÃµes conscientes
Coragem (Andreia)          â†’ AÃ§Ãµes assertivas
JustiÃ§a (Dikaiosyne)       â†’ EquilÃ­brio e retidÃ£o
TemperanÃ§a (Sophrosyne)    â†’ ModeraÃ§Ã£o e controle
```

**3. Disciplina EpictÃ©tica (3 aspectos)**
```
Disciplina do Desejo       â†’ Controle de vontade
Disciplina da AÃ§Ã£o         â†’ ExecuÃ§Ã£o consciente
Disciplina do Assentimento â†’ AceitaÃ§Ã£o de circunstÃ¢ncias
```

**4. NÃ­vel de Desenvolvimento Estoico (3 etapas)**
```
NÃ­vel 1 â†’ Iniciante: Construindo o hÃ¡bito bÃ¡sico
NÃ­vel 2 â†’ IntermediÃ¡rio: Dominando a execuÃ§Ã£o consistente
NÃ­vel 3 â†’ AvanÃ§ado: Integrando a virtude no carÃ¡ter
```

<h3>ğŸ’­ CitaÃ§Ãµes Estoicas: Um Pool de 100+ MÃ¡ximas</h3>

O Askesis possui um banco de dados de citaÃ§Ãµes dos maiores pensadores estoicos:

```typescript
STOIC_QUOTES = [
  {
    id: "marco_aurelio_001",
    author: "Marco AurÃ©lio",
    level: 1,
    virtue: "Wisdom",
    text: {
      pt: "Tu tens poder sobre tua mente â€” nÃ£o sobre eventos externos.",
      en: "You have power over your mind â€” not outside events.",
      es: "Tienes poder sobre tu mente â€” no sobre eventos externos."
    }
  },
  {
    id: "epicteto_001",
    author: "Epicteto",
    level: 2,
    virtue: "Courage",
    text: { ... }
  },
  // ... 98+ mais citaÃ§Ãµes
]
```

**SeleÃ§Ã£o Inteligente de CitaÃ§Ãµes:**
```
A cada novo dia, o Askesis seleciona uma citaÃ§Ã£o baseada em:
1. Seu nÃ­vel de desenvolvimento estoico (baseado em streaks)
2. A virtude que vocÃª mais precisa naquele dia
3. RandomizaÃ§Ã£o com ponderaÃ§Ã£o (citaÃ§Ãµes antigas reaparecem)
```

<h3>ğŸ¯ Milestones Estoicos: 21 e 66 Dias</h3>

O Askesis celebra dois marcos especiais baseados na neurociÃªncia e filosofia:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 21 DIAS = Primeira ConsolidaÃ§Ã£o             â”‚
â”‚                                              â”‚
â”‚ A neurociÃªncia mostra que 21 dias Ã© quando  â”‚
â”‚ um hÃ¡bito comeÃ§a a se automatizar. O Askesisâ”‚
â”‚ celebra este marco com mensagem do SÃ¡bio    â”‚
â”‚ Estoico: "Seu instinto estÃ¡ em formaÃ§Ã£o."   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 66 DIAS = ConsolidaÃ§Ã£o Estoica              â”‚
â”‚                                              â”‚
â”‚ Marcus Aurelius menciona 66 dias de         â”‚
â”‚ treinamento contÃ­nuo como o ponto em que a  â”‚
â”‚ virtude se torna parte do carÃ¡ter.          â”‚
â”‚ CelebraÃ§Ã£o: "A virtude agora Ã© sua."        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

<h2>ğŸ” Privacidade & Criptografia: Detalhes TÃ©cnicos</h2>

O Askesis implementa criptografia end-to-end de forma que **nem o servidor conhece seus dados**:

<h3>Fluxo de Criptografia AES-GCM (256-bit)</h3>

```
â”Œâ”€ Dados do UsuÃ¡rio (Plaintext) â”€â”€â”
â”‚ {                                â”‚
â”‚   habits: [...],                 â”‚
â”‚   dailyData: {...},              â”‚
â”‚   monthlyLogs: Map<>             â”‚
â”‚ }                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ JSON.stringify()
â”Œâ”€ SerializaÃ§Ã£o â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ "{\"habits\":[...], ...}"        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ Gera SALT + IV aleatÃ³rios
â”Œâ”€ DerivaÃ§Ã£o de Chave (PBKDF2) â”€â”€â”
â”‚ Password: "sync_key_do_usuario" â”‚
â”‚ Salt: 16 bytes aleatÃ³rios       â”‚
â”‚ Iterations: 100.000 (seguranÃ§a) â”‚
â”‚ Output: 256-bit key             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ AES-GCM.encrypt()
â”Œâ”€ Cifra (Ciphertext) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SALT (16 bytes) +               â”‚
â”‚ IV (12 bytes) +                 â”‚
â”‚ ENCRYPTED_DATA (N bytes) +      â”‚
â”‚ AUTH_TAG (16 bytes)             â”‚
â”‚                                  â”‚
â”‚ Total: 44 + N bytes             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ Base64
â”Œâ”€ Transporte (Seguro para URL) â”€â”€â”
â”‚ "AgX9kE2...F3k=" â† Base64       â”‚
â”‚ Enviado para POST /api/sync     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â†“ No Servidor
â”Œâ”€ Servidor (Sem Conhecimento) â”€â”€â”€â”
â”‚ Recebe apenas a string B64      â”‚
â”‚ Armazena tal qual               â”‚
â”‚ Sem capacidade de descriptografarâ”‚
â”‚ (nÃ£o tem a senha do usuÃ¡rio)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

<h3>SincronizaÃ§Ã£o de MÃºltiplos Dispositivos</h3>

Cada dispositivo posssuem sua prÃ³pria **chave de sincronizaÃ§Ã£o independente**:

```
â”Œâ”€ Device A (Celular) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sync Key: "abc123def456"         â”‚
â”‚ Encripta: dados com "abc123..."  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“
          â˜ï¸ Cloud Storage
          (Sem accesso de D.B)
                  â†“
â”Œâ”€ Device B (Tablet) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Sync Key: "abc123def456"         â”‚
â”‚ (Mesmo usuÃ¡rio = mesma chave)   â”‚
â”‚ Descripta: usando "abc123..."   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**CenÃ¡rio offline:**
```
Device A (offline) â†’ Local changes â†’ Enqueue
Device A (online)  â†’ POST encrypted data
Server             â†’ Store & merge
Device B (online)  â†’ GET encrypted data
Device B           â†’ Decrypt & merge
Device B           â†’ Render updated state
```

---

<h2>ğŸŒ Suporte MultilÃ­ngue (i18n)</h2>

O Askesis suporta 3 idiomas nativamente com fallback inteligente:

```typescript
LANGUAGES = {
  'pt': 'PortuguÃªs (Brasil)',
  'en': 'English',
  'es': 'EspaÃ±ol'
}

// Sistema de traduÃ§Ã£o:
// 1. Busca chave no idioma preferido
// 2. Se nÃ£o existir, volta para 'en' (padrÃ£o)
// 3. Se nem em 'en', retorna a chave como fallback
```

**Exemplos de chaves de traduÃ§Ã£o:**
```
aiPromptQuote       â†’ Prompt para anÃ¡lise de citaÃ§Ãµes
aiSystemInstruction â†’ InstruÃ§Ãµes do SÃ¡bio Estoico
aiCelebration21Day  â†’ CelebraÃ§Ã£o dos 21 dias
aiCelebration66Day  â†’ CelebraÃ§Ã£o dos 66 dias
habitNameCheckin    â†’ "Check-in"
timeOfDayMorning    â†’ "ManhÃ£"
streakCount         â†’ "{count} dias seguidos"
```

**Locales com InteligÃªncia:**
```typescript
// FormataÃ§Ã£o de datas por idioma:
pt-BR: "15 de janeiro de 2025"
en-US: "January 15, 2025"
es-ES: "15 de enero de 2025"

// NÃºmeros e percentuais respeitam locale
pt-BR: "1.234,56" (vÃ­rgula como decimal)
en-US: "1,234.56" (ponto como decimal)
es-ES: "1.234,56" (igual PT)
```

---

<h2>ğŸ” Debugging e Monitoramento</h2>

O Askesis fornece ferramentas de diagnÃ³stico para ajudar vocÃª a entender o que estÃ¡ acontecendo internamente:

<h3>Painel de SincronizaÃ§Ã£o (Sync Debug Modal)</h3>

Abra o DevTools do navegador (F12) e acesse:
```typescript
// No console do navegador:
openSyncDebugModal(); // Abre diÃ¡logo com histÃ³rico tÃ©cnico

// Seu histÃ³rico de sync serÃ¡ exibido:
// âœ… 2025-02-01 14:32:15 - Sync iniciado
// âœ… 2025-02-01 14:32:18 - Dados enviados (1.2 KB)
// âœ… 2025-02-01 14:32:19 - Merge bem-sucedido
// âš ï¸ 2025-02-01 14:32:45 - Offline detectado
// âš ï¸ 2025-02-01 14:33:12 - Retry 1/3
```

**Por que Ã© Ãºtil?**
- Validar se seus dados foram realmente sincronizados
- Diagnosticar problemas de conexÃ£o
- Ver exatamente quando o Ãºltimo sync aconteceu

<h3>Logger Interno</h3>

O Askesis registra eventos em tempo real (visÃ­vel no console do browser):

```
[ğŸ“± App] Service Worker registered
[â˜ï¸ API] POST /api/sync (attempt 1/3)
[ğŸ” Crypto] Encrypted 1.2 KB in 45ms
[ğŸ’¾ Storage] Saved 156 habit records
[ğŸ¤– AI] Analyze day context: 2 notes
[âš ï¸ Error] Network timeout after 5s
```

**NÃ­veis de log:**
```typescript
logger.info()    // InformaÃ§Ãµes normais (azul)
logger.warn()    // Avisos (amarelo)
logger.error()   // Erros crÃ­ticos (vermelho)
```

<h3>Performance Profiling</h3>

Para verificar performance em seu dispositivo:
```bash
# Abra DevTools e rode:
performance.mark('habit-toggle');
// ... simule aÃ§Ãµes ...
performance.measure('habit-toggle');
const measure = performance.getEntriesByName('habit-toggle')[0];
console.log(`Toggle levou ${measure.duration}ms`);
```

**Targets de performance do Askesis:**
```
Toggle de hÃ¡bito:        < 50ms
Renderizar dia:          < 100ms
Carregar 3 anos histÃ³rico: < 500ms
Sincronizar:             < 2s
Criptografar dados:      < 100ms (mesmo com 5 anos)
```

---

<h2>ğŸ¬ Principais Fluxos de UsuÃ¡rio</h2>

<h3>Fluxo 1: Novo UsuÃ¡rio (Onboarding)</h3>

```
1. Acessa askesis-psi.vercel.app
   â†“
2. Service Worker se registra
   â†“
3. IndexedDB abre (primeiro acesso = empty)
   â†“
4. UI renderiza: "Bem-vindo ao Askesis"
   â†“
5. UsuÃ¡rio clica em "+"
   â†“
6. Modal de criaÃ§Ã£o de hÃ¡bito abre
   â†“
7. Preenche: "Meditar 10min", ManhÃ£, 10 minutos
   â†“
8. Salva â†’ HabitService.setStatus() cria entry
   â†“
9. persistStateLocally() â†’ Grava em IndexedDB
   â†“
10. renderApp() â†’ Atualiza UI
   â†“
11. Service Worker cacheia assets
   â†“
12. UsuÃ¡rio pode usar offline a partir daqui âœ…
```

<h3>Fluxo 2: MarcaÃ§Ã£o de Status (MÃºltiplos Cliques)</h3>

```
Estado Inicial: âšª PENDENTE

UsuÃ¡rio clica 1x
   â†“ toggleHabitStatus()
   â†“ HabitService.setStatus(..., 1) // Status=Feito
   â†“ MonthlyLogs updated (9-bit write)
   â†“ saveState() â†’ debounced
   â†“ UI transition: card turns blue
   â†“ Haptic feedback
Estado: âœ… FEITO

UsuÃ¡rio clica 2x
   â†“ toggleHabitStatus()
   â†“ HabitService.setStatus(..., 2) // Status=Adiado
   â†“ MonthlyLogs updated
   â†“ saveState() â†’ debounced
   â†“ UI transition: card turns gray
Estado: â¡ï¸ ADIADO

UsuÃ¡rio clica 3x
   â†“ toggleHabitStatus()
   â†“ HabitService.setStatus(..., 0) // Status=Pendente + Tombstone
   â†“ MonthlyLogs updated (Tombstone=1)
   â†“ saveState() â†’ debounced
   â†“ UI transition: card returns to white
Estado: âšª PENDENTE (com undo possÃ­vel)
```

<h3>Fluxo 3: SincronizaÃ§Ã£o Multi-Dispositivo</h3>

```
â”Œâ”€ Dispositivo A (Celular) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                             â”‚
â”‚ 1. UsuÃ¡rio marca "Meditar" como FEITO     â”‚
â”‚ 2. Estado local salvo em IndexedDB        â”‚
â”‚ 3. syncStateWithCloud() chamado           â”‚
â”‚ 4. Vai offline (metrÃ´, aviÃ£o)            â”‚
â”‚ 5. Fila interna enfileira a mudanÃ§a      â”‚
â”‚ 6. (Offline, nada enviado ainda)         â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†‘ 4 horas depois â†“
â”Œâ”€ Dispositivo B (Tablet) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                             â”‚
â”‚ 1. UsuÃ¡rio marca "Ler" como FEITO        â”‚
â”‚ 2. Estado local salvo em IndexedDB        â”‚
â”‚ 3. syncStateWithCloud() chamado           â”‚
â”‚ 4. Internet OK â†’ POST /api/sync           â”‚
â”‚ 5. Servidor recebe dados B                â”‚
â”‚ 6. Servidor faz merge (local: dados A)   â”‚
â”‚ 7. Resultado: A + B merged                â”‚
â”‚ 8. Servidor envia pushback â†’ Device B    â”‚
â”‚ 9. Device B sincroniza novo estado        â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†‘ Device A se reconecta â†“
â”Œâ”€ Dispositivo A (Celular) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                             â”‚
â”‚ 1. Detecta internet âœ…                     â”‚
â”‚ 2. Consome fila de pendÃªncias              â”‚
â”‚ 3. POST /api/sync (fila.length > 0)       â”‚
â”‚ 4. Servidor merge com dados B              â”‚
â”‚ 5. Response: { habits: [...] }            â”‚
â”‚ 6. state.habits = merged                  â”‚
â”‚ 7. renderApp() â†’ UI atualiza               â”‚
â”‚ 8. âœ… "Ler FEITO" agora aparece           â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Resultado Final:
âœ… "Meditar" = FEITO (de A)
âœ… "Ler" = FEITO (de B)
âœ… Nenhum progresso foi perdido!
```

<h3>Fluxo 4: AnÃ¡lise IA (DiagnÃ³stico DiÃ¡rio)</h3>

```
â”Œâ”€ TransiÃ§Ã£o de Dia (UTC 00:00) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                             â”‚
â”‚ 1. handleDayTransition() chamado           â”‚
â”‚ 2. state.selectedDate atualizado           â”‚
â”‚ 3. renderApp() re-renderiza                â”‚
â”‚ 4. checkAndAnalyzeDayContext(yesterday)    â”‚
â”‚ 5. Extrai notas: "Meditei mas estava      â”‚
â”‚    distraÃ­do", "Leitura profunda hoje"     â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ Sem notas? â†“
       Retorna (vazio)
           â†“ Com notas? â†“
â”Œâ”€ ConstrÃ³i Prompt â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                             â”‚
â”‚ {                                           â”‚
â”‚   notes: "- Meditei mas estava...\n       â”‚
â”‚            - Leitura profunda...",        â”‚
â”‚   themes: ["Temperance", "Wisdom"],       â”‚
â”‚   language: "PortuguÃªs",                  â”‚
â”‚   aiPromptQuote: "Foque no essencial"     â”‚
â”‚ }                                           â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ Post para API â†“
â”Œâ”€ Google Gemini API â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                             â”‚
â”‚ System Instruction:                        â”‚
â”‚ "VocÃª Ã© um sÃ¡bio estoico..."               â”‚
â”‚                                             â”‚
â”‚ User Message:                              â”‚
â”‚ {prompt_acima}                             â”‚
â”‚                                             â”‚
â”‚ Response:                                  â”‚
â”‚ {                                           â”‚
â”‚   analysis: {                              â”‚
â”‚     determined_level: 2,                   â”‚
â”‚     insight: "Sua mente estÃ¡ forte..."     â”‚
â”‚   },                                       â”‚
â”‚   relevant_themes: ["Temperance"]          â”‚
â”‚ }                                           â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ Salva em dailyDiagnoses â†“
â”Œâ”€ UI Renderiza â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                             â”‚
â”‚ ğŸ“Š DiagnÃ³stico Estoico de Ontem:          â”‚
â”‚                                             â”‚
â”‚ "Sua mente estÃ¡ forte...                   â”‚
â”‚ TemperanÃ§a Ã© sua chave hoje."              â”‚
â”‚                                             â”‚
â”‚ [Fechar]                                    â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

<h3>Fluxo 5: CelebraÃ§Ã£o de Mileposts (21 & 66 Dias)</h3>

```
â”Œâ”€ A cada dia, handleDayTransition() verifica â”€â”
â”‚                                                â”‚
â”‚ 1. Para cada hÃ¡bito em state.habits:         â”‚
â”‚ 2.   streak = calculateHabitStreak(h, today) â”‚
â”‚ 3.   if (streak == 21 && !sentNotificationYet)
â”‚ 4.     state.pending21DayHabitIds.push(id)  â”‚
â”‚ 5.     triggerNotification("21 dias!")       â”‚
â”‚ 6.   else if (streak == 66)                  â”‚
â”‚ 7.     state.pendingConsolidationHabitIds... â”‚
â”‚ 8.     triggerNotification("66 dias!")       â”‚
â”‚ 9.   saveState()                              â”‚
â”‚                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

CelebraÃ§Ãµes Pendentes â†’ OneSignal
                   â†“
21-Day Celebration:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ‰ "Meditar" atinge 21 dias!       â”‚
â”‚                                     â”‚
â”‚ "A virtude estÃ¡ em formaÃ§Ã£o."      â”‚
â”‚ â€” SÃ¡bio Estoico                     â”‚
â”‚                                     â”‚
â”‚ [Compartilhar]  [Arquivo]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

66-Day Consolidation:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â­ "Meditar" agora Ã© parte de vocÃª! â”‚
â”‚                                     â”‚
â”‚ "A virtude agora Ã© sua natureza."  â”‚
â”‚ â€” Marcus Aurelius                   â”‚
â”‚                                     â”‚
â”‚ [Guardar]  [Reavaliar]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

<h2>ğŸ’¡ Dicas de Uso AvanÃ§ado</h2>

<h3>ğŸ“Š Interpretando os AnÃ©is de Progresso</h3>

Cada dia Ã© representado por um anel cÃ´nico que mostra a composiÃ§Ã£o:

```
Exemplo de dia completo:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ManhÃ£: âœ…  â”‚ â†’ Azul (completo)
â”‚  Tarde: â¡ï¸   â”‚ â†’ Cinza (adiado)
â”‚  Noite: âšª   â”‚ â†’ Branco (pendente)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Resultado: Anel 2/3 preenchido em azul+cinza

InterpretaÃ§Ã£o:
- Se todo dia Ã© azul sÃ³lido â†’ Taxa de sucesso: 100%
- Se hÃ¡ dias brancos ocasionais â†’ Realista, desenvolvimento gradual
- Se muitos cinzas â†’ VocÃª estÃ¡ procrastinando; reflexÃ£o necessÃ¡ria
```

<h3>ğŸ¯ Otimizando Metas com Override</h3>

Ã€s vezes, um dia especÃ­fico merece uma meta diferente:

```
CenÃ¡rio: VocÃª normalmente "LÃª 30 pÃ¡ginas"
         Mas hoje estÃ¡ com pouco tempo.

SoluÃ§Ã£o:
1. Clique e segure no cartÃ£o "Ler"
2. Selecione "Editar meta para hoje"
3. Mude de 30 para 15 pÃ¡ginas
4. Marque 15 pÃ¡ginas como FEITO
5. Sistema registra com meta customizada

Resultado no histÃ³rico:
- 2025-01-30: 30 pÃ¡ginas (meta padrÃ£o)
- 2025-01-31: 15 pÃ¡ginas (meta customizada)
- Nenhuma quebra de streak! âœ…
```

<h3>ğŸ“ Notas Como DiÃ¡rio Reflexivo</h3>

Cada hÃ¡bito pode ter uma nota, criando um mini-diÃ¡rio:

```
Exemplo:
HÃ¡bito: "Meditar 10min"
Data: 2025-02-01 ManhÃ£
Nota: "Mente estava agitada com pensamentos
       sobre a reuniÃ£o. Mas consegui estar
       presente nos Ãºltimos 3 minutos."

IA analisa â†’ Tema: "Temperance + Patience"
SugestÃ£o: "Sua paciÃªncia consigo mesmo Ã© virtude."
```

**Dica:** Use notas para rastrear contexto emocional, nÃ£o apenas atividades.

<h3>ğŸ”„ Usando Drag & Drop para Reorganizar</h3>

HÃ¡bitos podem ser reordenados por perÃ­odo do dia:

```
â”Œâ”€ MANHÃƒ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. MeditaÃ§Ã£o            â”‚
â”‚ 2. ExercÃ­cio   â† Segure e arraste
â”‚ 3. Leitura              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“ (para TARDE)
â”Œâ”€ TARDE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Trabalho Profundo     â”‚
â”‚ 2. ExercÃ­cio   â† Solta aqui
â”‚ 3. Lazer                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

ReordenaÃ§Ã£o tambÃ©m Ã© sincronizada entre dispositivos.

---

<h2>Roadmap: O Futuro</h2>

A visÃ£o para o Askesis Ã© expandir sua presenÃ§a nativa mantendo a base de cÃ³digo unificada.

*   **VersÃ£o Nativa Android:** Empacotamento via **TWA (Trusted Web Activity)** para publicaÃ§Ã£o na Google Play Store.
*   **Widgets de Tela Inicial:** Desenvolvimento de widgets nativos para visualizaÃ§Ã£o rÃ¡pida do progresso.
*   **IntegraÃ§Ã£o Health Connect:** SincronizaÃ§Ã£o bidirecional de dados de saÃºde.

---

<h2>â“ FAQ & Troubleshooting</h2>

<h3>â“ Perguntas Frequentes</h3>

**P: Meus dados estÃ£o realmente privados?**

R: Sim. Por padrÃ£o, todos os dados sÃ£o armazenados localmente no seu dispositivo via IndexedDB. Se vocÃª optar por sincronizaÃ§Ã£o, a criptografia end-to-end (AES-GCM) Ã© aplicada, e **nem o servidor tem acesso Ã  sua senha de sincronizaÃ§Ã£o**. Apenas dados criptografados viajam pela rede.

**P: Posso perder meus dados se mudar de celular?**

R: NÃ£o, se vocÃª guardou sua **Chave de SincronizaÃ§Ã£o**. Guarde essa chave em um local seguro (gerenciador de senhas, nota protegida). Ao instalar o Askesis em um novo celular, insira a chave e todos os seus dados serÃ£o sincronizados automaticamente.

**P: Como funciona a sincronizaÃ§Ã£o se eu estiver offline?**

R: MudanÃ§as sÃ£o enfileiradas localmente. Quando vocÃª reconecta Ã  internet, todas as pendÃªncias sÃ£o sincronizadas automaticamente. NÃ£o hÃ¡ perda de dados.

**P: A IA (Google Gemini) vÃª meus dados?**

R: NÃ£o. O Gemini recebe apenas:
- Notas que vocÃª adicionou (totalmente opcionais)
- Contexto generalizado (temas estoicos, nÃ£o dados pessoais)
- Ele nÃ£o tem acesso a datas, histÃ³rico ou identificadores

**P: Posso usar o Askesis em mÃºltiplos dispositivos?**

R: Sim! Cada dispositivo usa a mesma **Chave de SincronizaÃ§Ã£o** para manter dados em sync. Celular, tablet e desktop podem ser sincronizados.

**P: E se eu esquecer minha Chave de SincronizaÃ§Ã£o?**

R: Infelizmente, vocÃª **nÃ£o pode recuperÃ¡-la** (isso Ã© por design â€” garante que nem o servidor a tem). Mas seus dados locais nÃ£o se perdem. VocÃª pode:
1. Continuar usando o Askesis naquele dispositivo apenas
2. Gerar uma nova chave e comeÃ§ar uma nova sincronizaÃ§Ã£o
3. Exportar dados em JSON antes de mudar (âš™ï¸ â†’ Exportar)

**P: Quanto espaÃ§o o Askesis usa?**

R: Muito pouco. Mesmo com 5 anos de histÃ³rico:
- **Dados principais (JSON):** ~50-200 KB
- **Logs binÃ¡rios comprimidos:** ~8-15 KB
- **Total:** < 500 KB para a maioria dos usuÃ¡rios

**P: O app funciona totalmente offline?**

R: Sim, **100%**. VocÃª pode marcar hÃ¡bitos, adicionar notas, ver grÃ¡ficos â€” tudo sem internet. A IA (Google Gemini) e notificaÃ§Ãµes (OneSignal) requerem conexÃ£o, mas sÃ£o opcionais.

**P: Como desinstalo o Askesis?**

R: Se instalou como PWA:
- **Android:** Segure o Ã­cone â†’ "Desinstalar"
- **iOS:** Segure o Ã­cone â†’ "Remover app"
- **Desktop:** Controle-clique (Windows) ou Cmd-clique (Mac) no atalho â†’ "Remover"

Seus dados locais sÃ£o deletados automaticamente. Se quiser preservar dados, exporte primeiro (âš™ï¸ â†’ Exportar).

---

<h3>ğŸ”§ Troubleshooting Comum</h3>

<h4>âŒ "Erro: Sync nÃ£o funciona"</h4>

**DiagnÃ³stico:**
1. Verifique se estÃ¡ online (abra google.com em abas novas)
2. Abra DevTools (F12) â†’ Console
3. Procure por erros vermelhos

**SoluÃ§Ãµes:**
```
Se vir "[API] Network Error":
  â†’ Firewall ou proxy bloqueando
  â†’ Tente em rede diferente (pedir WiFi de amigo)
  â†’ Abra https://askesis-psi.vercel.app no navegador (deve carregar)

Se vir "[API] Timeout after 5s":
  â†’ Sua conexÃ£o Ã© lenta
  â†’ Tente em lugar com WiFi melhor
  â†’ Se em celular, use dados mÃ³veis de teste

Se vir "Sync Key invÃ¡lido":
  â†’ Chave foi corrompida/digitada errado
  â†’ âš™ï¸ â†’ Copiar Chave novamente
  â†’ Tente sincronizar em outro dispositivo com a mesma chave
```

**Se o problema persistir:**
1. Abra o Painel de Sync: `openSyncDebugModal()` no console
2. Screenshot do histÃ³rico de sync
3. Procure por uma issue existente no [GitHub](https://github.com/farifran/Askesis_v2/issues)
4. Se nÃ£o existir, abra uma issue com o screenshot

<h4>âŒ "Dados desapareceram!"</h4>

**Antes de desesperar:**

1. **Verificar localStorage nÃ£o foi limpo:**
   ```
   F12 â†’ Application â†’ Storage â†’ Local Storage â†’ askesis-psi.vercel.app
   VocÃª deve ver uma entrada "habitTrackerSyncKey"
   ```

2. **Verificar IndexedDB:**
   ```
   F12 â†’ Application â†’ Storage â†’ IndexedDB â†’ AskesisDB
   VocÃª deve ver "app_state" e possivelmente "askesis_logs_binary"
   ```

3. **Se vazio (foi deletado):**
   - Houve uma limpeza acidental do navegador
   - Dados sÃ³ podem ser recuperados se vocÃª exportou antes
   - Se tinha sincronizaÃ§Ã£o, dados estÃ£o na nuvem (reimporte com a chave)

4. **Se os dados estÃ£o lÃ¡ mas nÃ£o aparecem:**
   - Tente fazer Hard Refresh: **Ctrl+Shift+R** (Windows) ou **Cmd+Shift+R** (Mac)
   - Limpe o cache do Service Worker:
     ```
     F12 â†’ Application â†’ Service Workers
     Clique "Unregister" em cada um
     Recarregue a pÃ¡gina
     ```

<h4>âŒ "Service Worker nÃ£o estÃ¡ registrando"</h4>

**PossÃ­veis causas:**

1. **VocÃª estÃ¡ em http:// (nÃ£o https://)**
   - Service Workers sÃ³ funcionam em HTTPS ou localhost
   - Verifique se estÃ¡ acessando a URL correta

2. **Navegador bloqueou Service Worker**
   - VÃ¡ em âš™ï¸ do navegador â†’ ConfiguraÃ§Ãµes â†’ Privacidade
   - Procure por "NotificaÃ§Ãµes" ou "Web Workers"
   - Permita para askesis-psi.vercel.app

3. **Outro Service Worker conflita**
   ```
   F12 â†’ Application â†’ Service Workers
   Desregistre todos os SWs antigos
   Recarregue a pÃ¡gina
   ```

<h4>âŒ "HÃ¡bitos aparecem duplicados em diferentes perÃ­odos"</h4>

**SoluÃ§Ã£o:**

Isso acontece se vocÃª criou o mesmo hÃ¡bito 2x ou se houve sincronizaÃ§Ã£o conflitante.

1. VÃ¡ em âš™ï¸ â†’ Gerenciar HÃ¡bitos
2. Identifique o duplicado
3. Clique em "Apagar Permanentemente"
4. Confirme "Para Sempre"
5. Sincronize: vai excluir no servidor tambÃ©m

<h4>âŒ "Performance estÃ¡ lenta"</h4>

**DiagnÃ³stico:**

1. Abra DevTools â†’ Performance tab
2. Clique "Record"
3. Marque alguns hÃ¡bitos no app
4. Clique "Stop"
5. Analise o flame chart

**Causas comuns:**

```
Se ver picos em "sync.worker.ts":
  â†’ Criptografia levando tempo
  â†’ Normal em dados antigos
  â†’ Deixe completar, nÃ£o Ã© bloqueador

Se ver renderizaÃ§Ã£o > 100ms:
  â†’ Muitos hÃ¡bitos na tela (100+)
  â†’ Role para "virtualizar" a lista
  â†’ TemporÃ¡rio enquanto scroll finalize

Se usar 100%+ CPU constantemente:
  â†’ Algo estÃ¡ em loop
  â†’ Abra `openSyncDebugModal()`
  â†’ Procure por erros contÃ­nuos
  â†’ Limpe cache (Ctrl+Shift+R)
```

<h4>âŒ "NotificaÃ§Ãµes nÃ£o estÃ£o funcionando"</h4>

**VerificaÃ§Ã£o:**

1. âš™ï¸ â†’ NotificaÃ§Ãµes
2. Clique em "Permitir NotificaÃ§Ãµes"
3. Seu navegador pedirÃ¡ permissÃ£o (aceite)
4. Tente "Enviar Teste"

**Se notificaÃ§Ã£o nÃ£o chega:**

```
Motivo 1: Navegador nega permissÃ£o
  â†’ F12 â†’ Application â†’ Manifest
  â†’ Veja se "notificationsRequested" = false
  â†’ Limpe permissÃµes:
     Chrome: âš™ï¸ â†’ Privacidade â†’ Cookies/Sites
     Firefox: âš™ï¸ â†’ Privacidade â†’ NotificaÃ§Ãµes

Motivo 2: OneSignal desabilitado (por dÃ©bito de API)
  â†’ Abra https://status.onesignal.com
  â†’ Procure por "Web Push" status
  â†’ Se Red, notificaÃ§Ãµes globalmente down
  â†’ Aguarde status voltar

Motivo 3: Offline
  â†’ NotificaÃ§Ãµes precisam de internet
  â†’ Conecte Ã  rede
```

<h4>âŒ "NÃ£o consigo instalar como app (PWA)"</h4>

**Por navegador:**

**Google Chrome / Edge:**
```
1. Abra https://askesis-psi.vercel.app
2. Procure pelo Ã­cone "Instalar" na barra de endereÃ§o
3. Se nÃ£o vir:
   - Verifique se estÃ¡ em HTTPS (deve estar)
   - Atualize seu navegador
   - Tente em modo IncÃ³gnito (pode ter extensÃµes bloqueando)
4. Clique "Instalar"
5. App aparecerÃ¡ na Tela Inicial
```

**Safari (iOS):**
```
1. Abra https://askesis-psi.vercel.app
2. Clique no botÃ£o de Compartilhamento (canto inferior direito)
3. Role atÃ© "Adicionar Ã  Tela Inicial"
4. Confirme com seu nome preferido
5. App aparecerÃ¡ como Ã­cone na Tela Inicial
```

**Firefox:**
```
Firefox suporta PWA mas sem opÃ§Ã£o visual Ã³bvia:
1. Abra a pÃ¡gina
2. VÃ¡ em âš™ï¸ â†’ AplicaÃ§Ãµes
3. Procure por "Askesis" e clique "Instalar"
Alternativa: Deixe no "Home" (Firefox sÃ³ permite PWA via este mÃ©todo)
```

---

<h3>ğŸ“ Obtendo Suporte</h3>

Se o troubleshooting acima nÃ£o resolveu:

1. **Verifique a seÃ§Ã£o "Issues" do GitHub:**
   - Pesquise por palavra-chave do seu erro
   - Muitas soluÃ§Ãµes podem estar lÃ¡

2. **Abra uma nova Issue:**
   - [GitHub Issues - Askesis](https://github.com/farifran/Askesis_v2/issues)
   - Inclua:
     * Seu navegador (Chrome v130, Safari 17.x, etc.)
     * Sistema operacional (Windows, macOS, iOS, Android)
     * Screenshots ou vÃ­deos do erro
     * Passos exatos para reproduzir o problema
     * SaÃ­da do Sync Debug Modal

3. **Contribua com Fix:**
   - Se vocÃª encontrou a causa, considere abrir um Pull Request
   - Siga o guia de contribuiÃ§Ã£o no README

---

<h2>ğŸ¤ Contribuindo</h2>

O Askesis Ã© open-source e aceita contribuiÃ§Ãµes!

<h3>Como Contribuir</h3>

1. **Fork o repositÃ³rio** no GitHub
2. **Crie uma branch** para sua feature:
   ```bash
   git checkout -b feature/minha-feature
   ```
3. **FaÃ§a suas mudanÃ§as** e commit:
   ```bash
   git commit -m "feat: adiciona X funcionalidade"
   ```
4. **Rode os testes localmente:**
   ```bash
   npm run test:super
   ```
5. **Push para sua branch:**
   ```bash
   git push origin feature/minha-feature
   ```
6. **Abra um Pull Request** descrevendo suas mudanÃ§as

<h3>Requisitos para ContribuiÃ§Ãµes</h3>

- âœ… CÃ³digo TypeScript bem-formatado
- âœ… Testes adicionados para novas features
- âœ… Performance nÃ£o degradada (benchmarks devem passar)
- âœ… Acessibilidade mantida (WCAG 2.1 AA)
- âœ… DocumentaÃ§Ã£o atualizada (README, JSDoc)

<h3>Ãrea de ContribuiÃ§Ãµes Abertas</h3>

- ğŸ¨ **Design/UI:** Melhorias visuais, dark mode alternativo
- ğŸŒ **InternacionalizaÃ§Ã£o:** Novos idiomas (FrancÃªs, Italiano, Russo)
- ğŸ§ª **Testes:** Mais coverage em edge cases
- ğŸ“± **Plataformas:** Suporte a Electron para desktop
- ğŸ“š **DocumentaÃ§Ã£o:** Guias de uso, tutoriais em vÃ­deo

Procure por issues marcadas com `good-first-issue` para comeÃ§ar!

---

<h2>LicenÃ§a</h2>

Este projeto Ã© open-source e estÃ¡ licenciado sob a [LicenÃ§a ISC](LICENSE).
